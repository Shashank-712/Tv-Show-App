{% extends "base.html" %}
{% block title %}TV Shows{% endblock %}
{% block content %}

<div class="d-flex justify-content-between align-items-center mb-3">
    <h2 class="fw-bold">TV Shows</h2>
    {% if session.role == 'admin' %}
    <a href="{{ url_for('ui.show_add') }}" class="btn btn-primary">Add Show</a>
    {% endif %}
</div>

<div class="list-group shadow-sm">
    {% for s in shows %}
    <div class="list-group-item d-flex justify-content-between align-items-center">
        <div>
            <h5 class="mb-1">{{ s.title }}</h5>
            <p class="mb-1 small text-muted">{{ s.description or "No description" }}</p>
        </div>
        <div>
            <a class="btn btn-sm btn-outline-primary" href="{{ url_for('ui.show_edit', show_id=s.id) }}">Edit</a>
            <a class="btn btn-sm btn-outline-secondary" href="{{ url_for('ui.seasons', show_id=s.id) }}">Seasons</a>
            {% if session.role == 'admin' %}
            <form method="POST" action="{{ url_for('ui.show_delete', show_id=s.id) }}" style="display:inline"
                  onsubmit="return confirm('Delete show?');">
                <button class="btn btn-sm btn-outline-danger">Delete</button>
            </form>
            {% endif %}
        </div>
    </div>
    {% else %}
    <div class="alert alert-info">No shows yet.</div>
    {% endfor %}
</div>

{% endblock %}

